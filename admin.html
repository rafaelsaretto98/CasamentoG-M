<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel dos Noivos</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Garante que o painel não "pisque" antes do login */
        .admin-panel.hidden { display: none !important; }
        .modal.flex { display: flex !important; }
    </style>
</head>
<body>

<div id="adminLoginSection" class="modal flex">
  <div class="modal-box admin-login-box">
    <h2>Painel dos Noivos</h2>
    <p>Acesso privado</p>
    <input type="password" id="adminSenha" placeholder="Digite a senha">
    <button onclick="verificarLogin()">Entrar no painel</button>
    <p id="adminLoginMsg"></p>
  </div>
</div>

<section id="adminPanel" class="admin-panel hidden">
  <h1>Confirmações de Presença</h1>
  <p class="admin-sub">Somente os noivos visualizam esta área</p>
  <div class="admin-container">
    <div id="adminLista"></div>
  </div>
  <button class="admin-refresh" onclick="carregarRSVPAdmin()">Atualizar lista</button>
  <br>
  <a href="index.html" style="color: var(--sage); text-decoration: none;">← Voltar ao site</a>
</section>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script src="script.js"></script>

<script>
  // A senha que você definiu
  const SENHA_NOIVOS = "noivos2026";

  function verificarLogin() {
    const senha = document.getElementById("adminSenha").value.trim();
    const msg = document.getElementById("adminLoginMsg");

    if (senha === SENHA_NOIVOS) {
      // Esconde o login e mostra o painel
      document.getElementById("adminLoginSection").classList.remove("flex");
      document.getElementById("adminLoginSection").style.display = "none";
      document.getElementById("adminPanel").classList.remove("hidden");
      
      // Chama a função que está no script.js
      carregarRSVPAdmin();
    } else {
      msg.style.color = "red";
      msg.textContent = "Senha incorreta!";
    }
  }
</script>
</body>
</html>
